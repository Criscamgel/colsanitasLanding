<form #formSanitas="ngForm">
    
    <div class="tarjeta cntUno">
        <div class="calcPuno">
            <p class="title">1.- ¿Cuánto dinero necesita tu paciente?</p>
            <div class="slidecontainer marginOne doNotPrint">
                <input 
                name="slidesolicita" 
                type="range"
                value="0"
                min="{{minVlr}}"
                max="{{maxVlr}}"
                step="100000"
                class="slider"
                id="myRange"
                [(ngModel)]="valorSolicitado"
                #slideSolicita="ngModel"
                required>
            </div>

            <div class="contMinMax marginOne doNotPrint">
                <div class="contMin">
                    <p class="grayParrf">Mín:</p>
                    <p class="cifraGray">$ 800.000</p>
                </div>
                <div class="contMax">
                    <p class="grayParrf">Máx:</p>
                    <p class="cifraGray">$ 20'000.000</p>
                </div>
            </div>
            <div class="contSoli">
                <p class="grayParrf doNotPrint">Solicitas:</p>
                <div class="symbol">
                    <input 
                        type="tel" 
                        name="numbersolicita" 
                        class="inputText"
                        [ngModel]="valorSolicitado | number:'1.0'"
                        (keypress)="oldNumbers($event)"
                        (ngModelChange)="valorSolicitado = currencyInputChanged($event)"
                        #numberSolicita="ngModel" 
                        required>
                </div>
            </div>

            <div class="vlrDtoCifra" *ngIf="epsSanitas && clickDto">
                    <p class="grayParrfDto">Valor con descuento:</p>
                    <p class="vlrDto cifraGray">${{vlrDto | number:'1.0'}}</p>
            </div>

            <div class="contCheckSanitas">
                    <span>
                        <input 
                            type="checkbox"
                            name="epsSanitas" 
                            [(ngModel)]="epsSanitas"
                            #epSSanitas="ngModel"
                        > Afiliado a la EPS Sanitas
                    </span>
                </div>
            <hr>
        </div>

        <div class="calcPdos marginOne">
            <p class="title">2.- ¿En cuantas cuotas desea pagar?</p>

            <div class="contPeriodo">

                <span class="radio">
                    <input id="seis" #cuotaSeis="ngModel" [(ngModel)]="cuotas" name="Radios"
                        (change)="changeButton($event.target)" type="radio" value="6">
                    <div>
                        <div class="numBer">06</div>
                        <div class="mes">meses</div>
                    </div>
                </span>

                <span class="radio">
                    <input id="doce" [(ngModel)]="cuotas" name="Radios" (change)="changeButton($event.target)"
                        type="radio" value="12">
                    <div>
                        <div class="numBer">12</div>
                        <div class="mes">meses</div>
                    </div>
                </span>

                <span class="radio">
                    <input 
                        id="diesiocho" 
                        [(ngModel)]="cuotas" 
                        name="Radios"
                        (change)="changeButton($event.target)" 
                        type="radio" value="18"
                        >
                    <div>
                        <div class="numBer">18</div>
                        <div class="mes">meses</div>
                    </div>
                </span>

                <span class="radio">
                    <input id="veinticuatro" 
                    [(ngModel)]="cuotas"
                    name="Radios"
                    (change)="changeButton($event.target)" 
                    type="radio" 
                    value="24"
                    [attr.disabled] = "epsSanitas && clickDto && descuentoSlide !== 0 ? 'disabled' : null"
                    >
                    <div>
                        <div class="numBer">24</div>
                        <div class="mes">meses</div>
                    </div>
                </span>

                <span class="radio">
                    <input 
                    id="cuarentayocho"
                     [(ngModel)]="cuotas" 
                     name="Radios"
                     (change)="changeButton($event.target)"
                      type="radio" 
                      value="36"
                      [attr.disabled] = "epsSanitas && clickDto && descuentoSlide !== 0 ? 'disabled' : null"
                      >
                    <div>
                        <div class="numBer">36</div>
                        <div class="mes">meses</div>
                    </div>
                </span>

            </div>                        

            <div class="cntAprox">
                <p class="grayParrf">Cuota aproximada mensual:<br>
                (incluye seguro de vida)
                </p>
                <p class="cifraBlack">$ {{vlrCuota | number:'1.0'}}</p>

                <div class="tooltip doNotPrint">
                    <i class="fa fa-question-circle"></i>
                    <span class="tooltiptext">
                        <div class="titleTooltip">Valor cuota sin seguro:</div>$ {{vlrCuotaSs | number:'1.0'}}<br>
                        <div class="titleTooltip">Costo total del seguro:</div>$ {{seguroTotal | number:'1.0'}}<br>
                        <div class="titleTooltip">Cuota mensual del seguro:</div>$ {{seguroCta | number:'1.0'}}<br>
                        <div *ngIf="vlrDto !== 0" class="titleTooltip">Monto total a financiar<br>$ {{vlrDto + seguroTotal | number:'1.0'}}</div>
                        <div *ngIf="vlrDto === 0" class="titleTooltip">Monto total a financiar<br>$ {{valorSolicitado + seguroTotal | number:'1.0'}}</div>
                        <div *ngIf="cuotas != 36" class="titleTooltip">Tasa aplicada:<br>0% E.A</div>
                        <div *ngIf="cuotas == 36" class="titleTooltip">Tasa aplicada:<br>6.04% E.A</div>
                        <div *ngIf="cuotas == 36" class="titleTooltip">0.49 NMV</div><br>                                   
                        
                    </span>
                </div>

            </div>
            <hr>
        </div>

        <div *ngIf="epsSanitas && clickDto" class="calcPtres">
                <p class="title">Descuento</p>
                <div class="slidecontainer doNotPrint">
                    <input 
                        type="range" 
                        min="{{minDes}}" 
                        max="{{maxDes}}" 
                        step="1"
                        value="0" 
                        class="slider"
                        [(ngModel)]="descuentoSlide"
                        name="dtoSlide"
                        #DtoSlide="ngModel"
                        id="myRange"
                        [disabled]="valorSolicitado < 3000000 || cuotas > 18 ? 'disabled' : null"
                        (change)="descuento($event)"
                        >
                </div>
                <div class="contMinMax doNotPrint">
                    <div class="contMin">
                        <p class="grayParrf">Mín:</p>
                        <p class="cifraGray">{{minDes}}%</p>
                    </div>
                    <div class="contMax">
                        <p class="grayParrf">Máx:</p>
                        <p class="cifraGray">{{maxDes}}%</p>
                    </div>
                </div>
                <div class="cntAprox">
                    <p class="grayParrf doNotPrint">Descuento:</p>
                    <p class="cifraBlack">{{descuentoSlide}}%</p>

                    <!-- <div class="tooltip doNotPrint">
                        <i class="fa fa-question-circle"></i>
                        <span class="tooltiptext">
                            Contenido
                        </span>
                    </div> -->
                </div>
                <hr>
            </div>

            <div class="tooltiptext printOk">
                    <div class="titleTooltip">Valor cuota sin seguro:</div>$ {{vlrCuotaSs | number:'1.0'}}<br>
                    <div class="titleTooltip">Costo total del seguro:</div>$ {{seguroTotal | number:'1.0'}}<br>
                    <div class="titleTooltip">Cuota mensual del seguro:</div>$ {{seguroCta | number:'1.0'}}<br>
                    <div *ngIf="vlrDto !== 0" class="titleTooltip">Monto total a financiar<br>$ {{vlrDto + seguroTotal | number:'1.0'}}</div>
                    <div *ngIf="vlrDto === 0" class="titleTooltip">Monto total a financiar<br>$ {{valorSolicitado + seguroTotal | number:'1.0'}}</div>                                
                    <div *ngIf="cuotas != 36" class="titleTooltip">Tasa aplicada:<br>0% E.A</div>
                    <div *ngIf="cuotas == 36" class="titleTooltip">Tasa aplicada:<br>6.04% E.A</div>
                    <div *ngIf="cuotas == 36" class="titleTooltip">0.49 NMV</div><br>                             
            </div>

        <div class="calcPcuatro doNotPrint">
            <button [disabled]="formSanitas.invalid" (click)="linka()" class="button tipoUno pulse-shrink">
                <p class="bigTitle">INICIAR SOLICITUD</p>
            </button>
            <button [disabled]="formSanitas.invalid" (click)="onPrint()" class="button tipoUno pulse-shrink print">
                <p class="bigTitle">IMPRIMIR</p>
            </button>
        </div>

    </div>    

</form>